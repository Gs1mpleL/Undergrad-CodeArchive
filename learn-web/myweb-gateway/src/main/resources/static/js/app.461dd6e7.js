(function(){var t={1761:function(){},8445:function(t,e,a){"use strict";var l=a(7195),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],r={name:"App"},o=r,n=a(1001),c=(0,n.Z)(o,i,s,!1,null,null,null),d=c.exports,u=a(5114),h=a.n(u),p=a(2241),f=function(){var t=this,e=t._self._c;return e("el-row",{staticStyle:{height:"95%"},attrs:{gutter:20}},[e("el-col",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"},attrs:{span:8}},[e("el-card",{staticStyle:{flex:"0 0 37%"},attrs:{shadow:"hover"}},[e("div",{staticClass:"user"},[e("img",{attrs:{alt:"d",src:a(2059)}}),e("div",{staticClass:"userinfo"},[e("p",{staticClass:"name"},[t._v(t._s(t.userInfo.name))]),e("p",{staticClass:"access"},[t._v(t._s(t.userInfo.position))])])]),e("div",{staticClass:"login-info"},[e("p",[t._v("登录时间:"),e("span",[t._v(t._s(t.userInfo.time))])]),e("p",[t._v("登录地点:"),e("span",[t._v(t._s(t.userInfo.position))])])])]),e("el-card",{staticStyle:{"margin-top":"10px",flex:"0 0 63%"},attrs:{shadow:"hover"}},[e("weibo")],1)],1),e("el-col",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"},attrs:{span:16}},[e("div",{staticClass:"num",staticStyle:{flex:"0 0 22%"}},t._l(t.cardData,(function(a){return e("el-card",{key:a.id,attrs:{"body-style":{display:"flex",padding:0},shadow:"hover"}},[e("i",{staticClass:"icon",class:`el-icon-${a.icon}`,style:{background:a.color},on:{click:function(e){return t.handleIconClick(a)}}}),e("div",{staticClass:"detail"},[e("p",{staticClass:"content"},[t._v(t._s(a.content))]),e("p",{staticClass:"title"},[t._v(t._s(a.title))])])])})),1),e("el-card",{staticStyle:{flex:"0 0 40%"},attrs:{shadow:"hover"}},[e("div",{ref:"echarts1",staticStyle:{"margin-left":"30px",height:"480%",width:"100%"},on:{click:function(e){t.weightVisible=!0}}})]),e("div",{staticClass:"graph",staticStyle:{flex:"0 0 28%"}},[e("el-card",{staticStyle:{height:"260px"},attrs:{shadow:"hover"}},[t._v("待使用")]),e("el-card",{staticStyle:{height:"260px"},attrs:{shadow:"hover"}},[t._v("待使用")])],1)],1),e("el-dialog",{attrs:{visible:t.CardDialogVisible,title:"修改卡片",width:"30%"},on:{"update:visible":function(e){t.CardDialogVisible=e}}},[e("el-form",{ref:"form",attrs:{model:t.curUpdateCard,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{model:{value:t.curUpdateCard.title,callback:function(e){t.$set(t.curUpdateCard,"title",e)},expression:"curUpdateCard.title"}})],1),e("el-form-item",{attrs:{label:"图标"}},[e("el-input",{model:{value:t.curUpdateCard.icon,callback:function(e){t.$set(t.curUpdateCard,"icon",e)},expression:"curUpdateCard.icon"}})],1),e("el-form-item",{attrs:{label:"颜色"}},[e("el-color-picker",{model:{value:t.curUpdateCard.color,callback:function(e){t.$set(t.curUpdateCard,"color",e)},expression:"curUpdateCard.color"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.CardDialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)],1)},m=[],b=(a(560),a(4582));const g=b.Z.create({baseURL:"/api",timeout:1e6});g.interceptors.request.use((t=>(t.headers["Access-Control-Allow-Origin"]="*",t)),(t=>(console.error(t),Promise.reject(t)))),g.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var v=g;const w=()=>v.get("/myweb-user/getHomeData"),y=()=>v.get("/myweb-user/getMenu"),_=t=>v.post("/myweb-user/updateMenu",t),C=t=>v.post("/myweb-user/delMenu",t),D=t=>v.post("/myweb-user/addMenu",t),x=t=>v.post("/myweb-crawler/bilibili/dailyTask",t),k=()=>v.get("/myweb-crawler/weibo/news"),S=()=>v.get("/myweb-user/file/listForTable"),$=t=>{let e={url:t};return v.post("/myweb-user/file/deleteFile",e)},M=()=>v.get("/myweb-user/file/listDir"),I=()=>v.get("/myweb-learn/markdown/list"),V=t=>v.post("/myweb-learn/markdown/update",t),R=t=>v.post("/myweb-learn/markdown/del",t),O=t=>v.post("/myweb-user/updateCart",t),U=t=>v.post("/myweb-user/addWeight",t);var L=function(){var t=this,e=t._self._c;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:t.tableData,"show-header":!1,border:""},on:{"sort-change":t.handleSortChange,"row-click":t.handle}},[e("el-table-column",{attrs:{label:"微博热搜",prop:"word"}})],1)],1)},Z=[],T={data(){return{tableData:[]}},methods:{fetchData(){k().then((t=>{this.tableData=t.data.data})).catch((t=>{console.error(t)}))},handleSortChange({prop:t,order:e}){this.tableData.sort(((a,l)=>"ascending"===e?a[t]>l[t]?1:-1:"descending"===e?a[t]<l[t]?1:-1:0))},sortMethod(t,e){return t-e},filterMethod(t,e){return e.word===t},handle(t,e,a){const l=t.url;a.preventDefault(),window.location.href=l}},mounted(){this.fetchData()}},j=T,P=(0,n.Z)(j,L,Z,!1,null,null,null),A=P.exports,z=a(3165);let E;var F={data(){return{userInfo:{},cardData:[],CardDialogVisible:!1,curUpdateCard:{}}},beforeDestroy(){window.removeEventListener("resize",this.handleResize),this.chart&&this.chart.dispose()},mounted(){window.addEventListener("resize",this.handleResize),w().then((t=>{this.userInfo=t.data.data.userInfo,this.cardData=t.data.data.cardData,this.weightData=t.data.data.weightData,this.userInfo.time=B(this.userInfo.time),this.fetchCharts1(!0)}))},components:{weibo:A},methods:{handleResize(){E&&E.resize()},handleWeightSubmit(){if(void 0===this.weightInsertData.weight||void 0===this.weightInsertData.isExec)return this.$message.error("请输入完整数据"),void(this.weightVisible=!1);U(this.weightInsertData).then((t=>{t.data.data?(this.$message.success(t.data.message),this.weightVisible=!1,this.weightData.push(this.weightInsertData),this.weightInsertData={},this.fetchCharts1(!1)):this.$message.error(t.data.message)}))},fetchCharts1(t){t&&(E=z.S1(this.$refs.echarts1));var e=this.weightData.map((t=>W(t.time))),a=this.weightData.map((t=>parseFloat(t.weight))),l={title:{text:"待添加折线图",x:"center"},xAxis:{data:e,axisLabel:{interval:0}},yAxis:{min:210,max:230,type:"value"},series:[{type:"line",data:a}]};E.setOption(l)},handleIconClick(t){this.curUpdateCard=t,this.CardDialogVisible=!0},handleSubmit(){O(this.curUpdateCard).then((t=>{t.data.data?(this.$message.success(t.data.message),this.CardDialogVisible=!1):this.$message.error(t.data.message)}))}}};function B(t){const e=new Date(t),a=e.getFullYear(),l=e.getMonth()+1,i=e.getDate(),s=e.getHours(),r=e.getMinutes();let o=e.getSeconds();return o<10&&(o="0"+o),`${a}-${l}-${i} ${s}:${r}:${o}`}function W(t){if(void 0===t)return"刷新后显示！";var e=new Date(t),a=(String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0"));String(e.getHours()).padStart(2,"0"),String(e.getMinutes()).padStart(2,"0");return`${a}`}var H=F,q=(0,n.Z)(H,f,m,!1,null,"1481f1e6",null),N=q.exports,J=function(){var t=this,e=t._self._c;return e("div",[e("el-container",{staticClass:"operation-wrapper"},[e("el-aside",{attrs:{width:"auto"}},[e("Aside")],1),e("el-container",[e("el-header",[e("Header")],1),e("el-main",[e("router-view")],1)],1)],1)],1)},K=[],Y=function(){var t=this,e=t._self._c;return e("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{position:"relative"},attrs:{collapse:t.isCollapse,"active-text-color":"#ffd04b","background-color":"#545c64","default-active":"首页","text-color":"#fff"},on:{close:t.handleClose,open:t.handleOpen}},[e("h3",[t._v(t._s(t.isCollapse?"晚风":"晚风的网站"))]),t._l(t.noChildren,(function(a){return e("el-menu-item",{key:a.name,attrs:{index:a.name},on:{click:function(e){return t.clickMenu(a)}}},[e("i",{class:`el-icon-${a.icon}`}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.label))])])})),t._l(t.haveChildren,(function(a){return e("el-submenu",{key:a.label,attrs:{index:a.label}},[e("template",{slot:"title"},[e("i",{class:`el-icon-${a.icon}`}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.label))])]),t._l(a.children,(function(a){return e("el-menu-item-group",{key:a.path},[e("el-menu-item",{attrs:{index:a.path},on:{click:function(e){return t.clickMenu(a)}}},[e("i",{class:`el-icon-${a.icon}`}),t._v(t._s(a.label)+" ")])],1)}))],2)})),e("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%",display:"flex","justify-content":"center",color:"#cccccc"}},[t._v("晋ICP备2024033615号")])],2)},G=[],Q={data(){return{menuData:[]}},mounted(){y().then((t=>{t=t.data.data,this.menuData=t,this.$store.state.tab.menuData=t}))},methods:{handleOpen(t,e){console.log(t,e)},handleClose(t,e){console.log(t,e)},clickMenu(t){t.path.includes("http")?window.open(t.path,"_blank"):t.path===this.$route.path||"/home"===this.$route.path&&"/"===t.path||this.$router.push(t.path)}},computed:{noChildren(){return this.menuData.filter((t=>0===t.children.length))},haveChildren(){return this.menuData.filter((t=>0!==t.children.length))},isCollapse(){return this.$store.state.tab.isCollapse}}},X=Q,tt=(0,n.Z)(X,Y,G,!1,null,"244421b1",null),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-container"},[e("div",{staticClass:"l-content"},[e("el-button",{attrs:{icon:"el-icon-menu",size:"mini"},on:{click:t.handleMenu}}),e("span",{staticClass:"text"},[t._v("首页")])],1),e("div",{staticClass:"r-content"},[e("el-dropdown",[e("span",{staticClass:"el-dropdown-link"},[e("img",{staticClass:"userImg",attrs:{alt:"晚风",src:a(2059)}})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[t._v("个人中心")]),e("el-dropdown-item",[t._v("修改密码")])],1)],1)],1)])},lt=[],it={data(){return{}},methods:{handleMenu(){this.$store.commit("collapseMenu")}}},st=it,rt=(0,n.Z)(st,at,lt,!1,null,"374c0dc0",null),ot=rt.exports,nt={data(){return{}},components:{Aside:et,Header:ot}},ct=nt,dt=(0,n.Z)(ct,J,K,!1,null,"b99f1640",null),ut=dt.exports,ht=function(){var t=this,e=t._self._c;return e("h1",[t._v("学习模块")])},pt=[],ft={data(){return{}}},mt=ft,bt=(0,n.Z)(mt,ht,pt,!1,null,null,null),gt=bt.exports,vt=function(){var t=this,e=t._self._c;return e("div",[e("el-row",[e("el-button",{staticClass:"topDiv",attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加菜单项")])],1),e("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"tree-props":{children:"children",hasChildren:"hasChildren"},border:"","row-key":"id"}},[e("el-table-column",{attrs:{label:"标题",prop:"label"}}),e("el-table-column",{attrs:{label:"图标",prop:"icon"}}),e("el-table-column",{attrs:{label:"路由",prop:"path"}}),e("el-table-column",{attrs:{label:"操作",prop:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editMenu(a.row)}}},[t._v("修改")]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.deleteMenu(a.row.id)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{visible:t.dialogVisible,title:"表单弹框",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"父菜单"}},[e("el-select",{attrs:{placeholder:"全选择父节点"},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}},t._l(t.tableData,(function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}})],1),e("el-form-item",{attrs:{label:"路由"}},[e("el-input",{model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),e("el-form-item",{attrs:{label:"图标"}},[e("el-input",{model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)],1)},wt=[];function yt(t,e){for(let a=0;a<t.length;a++){const l=t[a];if(l.id===e)return l;if(Array.isArray(l.children)&&l.children.length>0){const t=yt(l.children,e);if(t)return t}}return null}function _t(t,e){for(let a=0;a<t.length;a++){const l=t[a];l.id===e?(t.splice(a,1),a--):Array.isArray(l.children)&&_t(l.children,e)}return t}var Ct={data(){return{dialogVisible:!1,someId:null,tableData:[],form:{id:"",path:"",label:"",url:"",name:"",icon:"",parentId:""}}},mounted(){this.fetchData()},methods:{fetchData(){y().then((t=>{t=t.data.data,this.tableData=t}))},editMenu(t){this.dialogVisible=!0,this.form=yt(this.tableData,t.id)},handleSubmit(){this.form.id?(_(this.form).then((t=>{t.data.data&&(this.dialogVisible=!1),this.$message({message:t.data.message,type:t.data.data?"success":"error"})})),this.form={id:"",path:"",label:"",url:"",name:"",icon:"",parentId:""}):(""===this.form.icon&&(this.form.icon="eleme"),D(this.form).then((t=>{t.data.data&&(this.dialogVisible=!1),this.$message({message:t.data.message,type:t.data.data?"success":"error"})})))},deleteMenu(t){C(yt(this.tableData,t)).then((t=>{this.$message({message:t.data.message,type:t.data.data?"success":"error"})})),_t(this.tableData,t)}}},Dt=Ct,xt=(0,n.Z)(Dt,vt,wt,!1,null,null,null),kt=xt.exports,St=function(){var t=this,e=t._self._c;return e("div",[e("el-input",{staticClass:"cookieInput",attrs:{placeholder:"请输入完整的B站Cookie"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),e("el-row",[e("el-button",{staticClass:"submitButton",attrs:{loading:t.isLoading,round:"",type:"primary"},on:{click:function(e){return t.handleClick()}}},[t._v("开始执行 ")])],1),e("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("操作日志")])]),t._l(t.log,(function(a){return e("div",{key:a,staticClass:"text item"},[t._v(" "+t._s(a)+" ")])}))],2)],1)},$t=[],Mt={data(){return{active:0,intervalId:null,input:"liuzhuohao123(默认，自定义执行请输入完整B站Cookie)",log:[],isLoading:!1}},methods:{handleClick(){let t={totalCookie:this.input};this.log=this.log.concat(["开始执行,totalCookie="+t.totalCookie]),this.isLoading=!0,x(t).then((t=>{t.data.flag?(this.$message.success(t.data.message),this.log=this.log.concat(t.data.data.split("\n"))):(this.$message.error(t.data.message),this.log=this.log.concat([t.data.message])),this.isLoading=!1}))}}},It=Mt,Vt=(0,n.Z)(It,St,$t,!1,null,null,null),Rt=Vt.exports,Ot=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticClass:"top",attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-select",{staticClass:"topDiv",attrs:{placeholder:"选择上传路径"},on:{change:t.handleChooseDir},model:{value:t.uploadDir,callback:function(e){t.uploadDir=e},expression:"uploadDir"}},t._l(t.dirList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1),e("el-input",{staticClass:"topDiv",attrs:{placeholder:"自定义修改路径"},on:{change:t.handleChooseDir},model:{value:t.uploadDir,callback:function(e){t.uploadDir=e},expression:"uploadDir"}}),e("el-upload",{staticClass:"topDiv",attrs:{action:t.uploadUrl,"on-success":t.getData,drag:"",multiple:"",post:""}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("文件将上传至阿里云OSS")])])],1),e("el-col",{attrs:{span:10}},[e("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"tree-props":{children:"children",hasChildren:"hasChildren"},border:"","row-key":"name"}},[e("el-table-column",{attrs:{label:"文件名",prop:"name"}}),e("el-table-column",{attrs:{label:"地址",prop:"url"}}),e("el-table-column",{attrs:{label:"操作",prop:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.dir?t._e():e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.download(a.row)}}},[t._v("下载")]),a.row.dir?t._e():e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.setCurrentRowAndOpenDia(a.row)}}},[t._v("删除 ")])]}}])})],1)],1)],1),e("el-dialog",{attrs:{visible:t.dialogVisible,title:"提示",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("是否确认删除文件"+t._s(t.currentRow.name))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteMenu(t.currentRow)}}},[t._v("确 定")])],1)])],1)},Ut=[];function Lt(t){for(var e=[],a=t.split("/"),l=0;l<a.length;l++)0===l?e.push(a[0]):(a.length,e.push(a.slice(0,l+1).join("/")));return e}var Zt,Tt,jt={data(){return{tableData:[],dialogVisible:!1,currentRow:{},dirList:[],uploadUrl:"/api/myweb-user/file/upload/",uploadDir:""}},mounted(){this.getData()},methods:{handleChooseDir(){this.uploadDir.endsWith("/")||(this.uploadDir+="/"),this.uploadUrl="/api/myweb-user/file/upload/?path="+this.uploadDir},getData(){this.dirList=[],S().then((t=>{this.tableData=t.data.data})),M().then((t=>{let e=t.data.data;for(let l=0;l<e.length;l++){let t=e[l].label,a=Lt(t);this.dirList=this.dirList.concat(a)}console.log(this.dirList);let a=this.dirList.map((t=>t.endsWith("/")?t:t+"/"));this.dirList=a.filter(((t,e,a)=>a.indexOf(t)===e)),console.log(this.dirList)}))},download(t){window.location.href=t.url},deleteMenu(t){console.log(t),$(t.url).then((t=>{t.data.flag?this.$message.success(t.data.message):this.$message.error(t.data.message),this.dialogVisible=!1,this.currentRow={},this.getData()}))},setCurrentRowAndOpenDia(t){this.currentRow=t,this.dialogVisible=!0}}},Pt=jt,At=(0,n.Z)(Pt,Ot,Ut,!1,null,null,null),zt=At.exports,Et=function(){var t=this,e=t._self._c;return e("div",[e("el-button",{attrs:{type:"primary"},on:{click:t.play}},[t._v("播放")]),e("div",{staticClass:"video"},[e("video",{attrs:{id:"vPull",autoplay:"",controls:"",height:"100%",muted:"",width:"100%"},domProps:{muted:!0}})])],1)},Ft=[],Bt=a(1221),Wt=a.n(Bt),Ht={name:"",data(){return{player:null}},destroyed(){this.destruction()},methods:{play(){let t="https://hw.flv.huya.com/src/2368274334-2368274334-10171660812486180864-4736672124-10057-A-0-1-imgplus.flv?wsSecret=e85f24c8c798ccbd5cb42773ded0b1fe&wsTime=65a6798c&u=0&seqid=17053225305117720&fm=RFdxOEJjSjNoNkRKdDZUWV8kMF8kMV8kMl8kMw%3D%3D&ctype=tars_mobile&fs=bgct&sphdcdn=al_7-tx_3-js_3-ws_7-bd_2-hw_2&sphdDC=huya&sphd=264_",e=document.getElementById("vPull");Wt().isSupported()?(this.player=Wt().createPlayer({type:"flv",isLive:!0,url:t},{enableWorker:!1,enableStashBuffer:!1,isLive:!0,lazyLoad:!1}),this.player.attachMediaElement(e),this.player.load(),this.player.play()):console.log("不支持的格式")},destruction(){this.player&&(this.player.pause(),this.player.destroy(),this.player=null)}}},qt=Ht,Nt=(0,n.Z)(qt,Et,Ft,!1,null,null,null),Jt=Nt.exports,Kt=a(1761),Yt=a.n(Kt),Gt={},Qt=(0,n.Z)(Gt,Zt,Tt,!1,null,null,null);"function"===typeof Yt()&&Yt()(Qt);var Xt=Qt.exports,te=function(){var t=this,e=t._self._c;return e("div",[e("el-row",[e("el-col",{attrs:{span:4}},[e("el-table",{staticStyle:{"margin-right":"0"},attrs:{data:t.tableData,border:"","highlight-current-row":""},on:{"row-click":t.handleClick}},[e("el-table-column",{attrs:{label:"已保存的markdown",prop:"title",width:"180"}})],1)],1),e("el-col",{attrs:{span:20}},[e("mavon-editor",{staticStyle:{"min-height":"90vh"},on:{change:t.updateDoc,save:t.saveDoc},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)},ee=[],ae={data(){return{value:"",tableData:[],updateText:"",localUpdateText:"",updateRow:{}}},beforeRouteLeave(t,e,a){this.updateText!==this.localUpdateText?this.$alert("有未保存内容","⚠️内容已编辑",{confirmButtonText:"好的！"}):a()},mounted(){this.fetchData()},methods:{fetchData(){I().then((t=>{this.tableData=t.data.data;let e=[{title:"待添加"}];this.tableData=this.tableData.concat(e)}))},updateDoc(t,e){this.localUpdateText=t,console.log("内容更新："+t)},saveDoc(t,e){let a={text:t};this.updateRow.id&&(a["id"]=this.updateRow.id),""===t?this.updateRow.id?R(a).then((t=>{this.localUpdateText="",this.updateText="",t.data.data?this.$message.success(t.data.message):this.$message.error(t.data.message),this.updateRow={},this.fetchData()})):this.$message.error("内容为空"):(a["title"]=le(t),this.updateRow.id&&(a["id"]=this.updateRow.id),V(a).then((e=>{e.data.flag?(this.updateText=t,this.$message.success(e.data.message)):this.$message.error(e.data.message),this.updateRow=e.data.data,this.fetchData()})),console.log(t))},handleClick(t,e,a){this.value=t.text,this.updateRow=t,"待添加"===t.title&&(this.updateRow={})}}};function le(t){if("#"===t[0]){const e=t.match(/#(.*)\n?/);if(e)return e[1]}return t.replace(/#.*\n?/,"")}var ie=ae,se=(0,n.Z)(ie,te,ee,!1,null,null,null),re=se.exports;l["default"].use(p.ZP);const oe=[{path:"/",component:ut,redirect:"/home",children:[{path:"/home",component:N},{path:"/learn",component:gt},{path:"/menu",component:kt},{path:"/crawler/bilibili",component:Rt},{path:"/file",component:zt},{path:"/test",component:Xt},{path:"/live",component:Jt},{path:"/markdown",component:re}]}],ne=new p.ZP({routes:oe});var ce=ne,de=a(408),ue={state:{isCollapse:!1,menuData:[]},mutations:{collapseMenu(t){t.isCollapse=!t.isCollapse}}};l["default"].use(de.ZP);var he=new de.ZP.Store({modules:{tab:ue}}),pe=a(9008),fe=a.n(pe);l["default"].config.productionTip=!1,l["default"].use(h()),l["default"].use(fe()),new l["default"]({store:he,router:ce,render:t=>t(d)}).$mount("#app")},2059:function(t,e,a){"use strict";t.exports=a.p+"img/wanfeng.450c9438.jpg"}},e={};function a(l){var i=e[l];if(void 0!==i)return i.exports;var s=e[l]={id:l,loaded:!1,exports:{}};return t[l].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,l,i,s){if(!l){var r=1/0;for(d=0;d<t.length;d++){l=t[d][0],i=t[d][1],s=t[d][2];for(var o=!0,n=0;n<l.length;n++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](l[n])}))?l.splice(n--,1):(o=!1,s<r&&(r=s));if(o){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[l,i,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var l in e)a.o(e,l)&&!a.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,l){var i,s,r=l[0],o=l[1],n=l[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(n)var d=n(a)}for(e&&e(l);c<r.length;c++)s=r[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},l=self["webpackChunkmyweb_vue"]=self["webpackChunkmyweb_vue"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(8445)}));l=a.O(l)})();
//# sourceMappingURL=app.461dd6e7.js.map